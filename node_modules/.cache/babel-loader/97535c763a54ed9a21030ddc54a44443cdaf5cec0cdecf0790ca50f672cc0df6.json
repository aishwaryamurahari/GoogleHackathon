{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{Loader}from'@googlemaps/js-api-loader';import{Camera,MapPin,Clock,Sparkles}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MapComponent=_ref=>{let{apiKey,selectedRoute,routes,onMapReady}=_ref;const mapRef=useRef(null);const mapInstanceRef=useRef(null);const markersRef=useRef([]);const polylinesRef=useRef([]);const[hasInitialBounds,setHasInitialBounds]=useState(false);// Initialize Google Maps\nuseEffect(()=>{if(!apiKey||!mapRef.current||mapInstanceRef.current)return;const initMap=async()=>{try{const loader=new Loader({apiKey,version:'weekly',libraries:['places']});await loader.load();if(!mapRef.current){return;}const map=new google.maps.Map(mapRef.current,{center:{lat:40.7128,lng:-74.0060},// Default to NYC\nzoom:13,styles:[{featureType:'poi',elementType:'labels',stylers:[{visibility:'off'}]}],mapTypeControl:false,fullscreenControl:false,streetViewControl:false,gestureHandling:'cooperative'// Better touch/gesture handling\n});mapInstanceRef.current=map;onMapReady===null||onMapReady===void 0?void 0:onMapReady(map);}catch(error){console.error('MapComponent: Failed to load Google Maps:',error);console.error('MapComponent: Error details:',error instanceof Error?error.message:'Unknown error');}};initMap();// Cleanup function\nreturn()=>{if(mapInstanceRef.current){mapInstanceRef.current=null;}};},[apiKey]);// Clear existing markers and polylines\nconst clearMap=()=>{markersRef.current.forEach(marker=>marker.setMap(null));polylinesRef.current.forEach(polyline=>polyline.setMap(null));markersRef.current=[];polylinesRef.current=[];};// Reset bounds to show all routes\nconst resetBounds=()=>{if(!mapInstanceRef.current||routes.length===0)return;const bounds=new google.maps.LatLngBounds();routes.forEach(route=>{route.path.forEach(point=>{bounds.extend(new google.maps.LatLng(point.lat,point.lng));});});mapInstanceRef.current.fitBounds(bounds,50);};// Draw routes on map\nuseEffect(()=>{if(!mapInstanceRef.current||routes.length===0)return;clearMap();routes.forEach(route=>{if(route.path.length<2)return;const isSelected=(selectedRoute===null||selectedRoute===void 0?void 0:selectedRoute.id)===route.id;const color=isSelected?'#3B82F6':'#6b7280';// Blue for selected route\nconst weight=isSelected?6:2;const path=route.path.map(point=>new google.maps.LatLng(point.lat,point.lng));const polyline=new google.maps.Polyline({path,geodesic:true,strokeColor:color,strokeOpacity:isSelected?1.0:0.7,strokeWeight:weight,map:mapInstanceRef.current});polylinesRef.current.push(polyline);// Add start and destination markers for selected route\nif(isSelected&&route.path.length>0){// Start marker (green)\nconst startMarker=new google.maps.Marker({position:new google.maps.LatLng(route.path[0].lat,route.path[0].lng),map:mapInstanceRef.current,title:'Start',icon:{url:'data:image/svg+xml;charset=UTF-8,'+encodeURIComponent(`\n              <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"16\" cy=\"16\" r=\"14\" fill=\"#10B981\" stroke=\"white\" stroke-width=\"3\"/>\n                <circle cx=\"16\" cy=\"16\" r=\"6\" fill=\"white\"/>\n              </svg>\n            `),scaledSize:new google.maps.Size(32,32),anchor:new google.maps.Point(16,16)}});// Destination marker (red)\nconst endMarker=new google.maps.Marker({position:new google.maps.LatLng(route.path[route.path.length-1].lat,route.path[route.path.length-1].lng),map:mapInstanceRef.current,title:'Destination',icon:{url:'data:image/svg+xml;charset=UTF-8,'+encodeURIComponent(`\n              <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"16\" cy=\"16\" r=\"14\" fill=\"#EF4444\" stroke=\"white\" stroke-width=\"3\"/>\n                <path d=\"M12 16l3 3 5-5\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            `),scaledSize:new google.maps.Size(32,32),anchor:new google.maps.Point(16,16)}});markersRef.current.push(startMarker,endMarker);}// Add markers for photo spots\nroute.photoSpots.forEach(spot=>{if(!spot.location)return;const marker=new google.maps.Marker({position:new google.maps.LatLng(spot.location.lat,spot.location.lng),map:mapInstanceRef.current,title:spot.name,icon:{url:'data:image/svg+xml;charset=UTF-8,'+encodeURIComponent(`\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"${isSelected?'#3B82F6':'#6b7280'}\" stroke=\"white\" stroke-width=\"2\"/>\n                <path d=\"M8 12l2 2 4-4\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            `),scaledSize:new google.maps.Size(24,24),anchor:new google.maps.Point(12,12)}});const infoWindow=new google.maps.InfoWindow({content:`\n            <div class=\"p-3\">\n              <h3 class=\"font-semibold text-gray-900\">${spot.name}</h3>\n              <div class=\"flex items-center mt-1\">\n                <span class=\"text-yellow-500\">★</span>\n                <span class=\"text-sm text-gray-600 ml-1\">${spot.rating}</span>\n                <span class=\"text-sm text-gray-500 ml-2\">•</span>\n                <span class=\"text-sm text-gray-500 ml-2\">${spot.distance}</span>\n              </div>\n            </div>\n          `});marker.addListener('click',()=>{infoWindow.open(mapInstanceRef.current,marker);});markersRef.current.push(marker);});});// Only fit bounds on initial load, not on every route update\nif(routes.length>0&&!hasInitialBounds){const bounds=new google.maps.LatLngBounds();routes.forEach(route=>{route.path.forEach(point=>{bounds.extend(new google.maps.LatLng(point.lat,point.lng));});});// Add some padding to the bounds\nmapInstanceRef.current.fitBounds(bounds,50);setHasInitialBounds(true);}},[routes,hasInitialBounds]);// Removed selectedRoute from dependencies\n// Update route styling when selection changes (without redrawing)\nuseEffect(()=>{if(!mapInstanceRef.current||polylinesRef.current.length===0)return;polylinesRef.current.forEach((polyline,index)=>{const route=routes[index];if(!route)return;const isSelected=(selectedRoute===null||selectedRoute===void 0?void 0:selectedRoute.id)===route.id;const color=isSelected?'#3B82F6':'#6b7280';// Blue for selected route\nconst weight=isSelected?6:2;polyline.setOptions({strokeColor:color,strokeOpacity:isSelected?1.0:0.7,strokeWeight:weight});});// Update marker icons for selection\nmarkersRef.current.forEach((marker,index)=>{const route=routes[Math.floor(index/2)];// Approximate route index\nif(!route)return;const isSelected=(selectedRoute===null||selectedRoute===void 0?void 0:selectedRoute.id)===route.id;const spot=route.photoSpots[index%route.photoSpots.length];if(!spot)return;marker.setIcon({url:'data:image/svg+xml;charset=UTF-8,'+encodeURIComponent(`\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"${isSelected?'#3B82F6':'#6b7280'}\" stroke=\"white\" stroke-width=\"2\"/>\n            <path d=\"M8 12l2 2 4-4\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>\n        `),scaledSize:new google.maps.Size(24,24),anchor:new google.maps.Point(12,12)});});},[selectedRoute,routes]);if(!apiKey){return/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full h-full bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"glass-card rounded-3xl p-12 max-w-2xl mx-auto text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-primary-100 to-primary-200 p-8 rounded-3xl inline-block\",children:/*#__PURE__*/_jsx(Camera,{className:\"h-20 w-20 text-primary-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-3 -right-3 bg-yellow-400 rounded-full p-3\",children:/*#__PURE__*/_jsx(Sparkles,{className:\"h-6 w-6 text-yellow-900\"})})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-bold text-gray-900 mb-4\",children:\"Interactive Map View\"}),selectedRoute?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-lg leading-relaxed\",children:[\"Currently viewing \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-primary-600\",children:selectedRoute.name}),\" with \",selectedRoute.photoSpots.length,\" stunning photo opportunities\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"glass-card p-6 rounded-2xl border border-primary-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-primary-900\",children:\"Photo Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"h-5 w-5 text-primary-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-3xl font-bold text-primary-600\",children:[selectedRoute.photoScore,\"%\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-primary-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-primary-500 to-primary-600 h-3 rounded-full transition-all duration-500\",style:{width:`${selectedRoute.photoScore}%`}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-8 w-8 text-primary-500 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:selectedRoute.distance}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Distance\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-8 w-8 text-primary-500 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:selectedRoute.duration}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Duration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center\",children:[/*#__PURE__*/_jsx(Camera,{className:\"h-8 w-8 text-primary-500 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:selectedRoute.photoSpots.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Photo Spots\"})]}),selectedRoute.travelMode&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-bold text-sm\",children:selectedRoute.travelMode.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-900\",children:selectedRoute.travelMode}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Travel Mode\"})]})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg leading-relaxed\",children:\"Enter your origin and destination to see beautiful photo-worthy routes with interactive mapping\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 glass-card p-6 rounded-2xl border border-yellow-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-yellow-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold text-yellow-900\",children:\"Demo Mode\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800 leading-relaxed\",children:\"Add your Google Maps API key to see the interactive map with real-time route visualization and photo spot markers.\"})]})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-full\",children:[/*#__PURE__*/_jsx(\"div\",{ref:mapRef,className:\"w-full h-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-6 right-6 glass-card rounded-2xl p-6 shadow-xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-bold text-gray-700 mb-4\",children:\"Photo Score Legend\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gradient-to-r from-green-400 to-green-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"90%+ (Excellent)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"70-89% (Good)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gradient-to-r from-red-400 to-red-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"<70% (Fair)\"})]})]}),routes.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsx(\"button\",{onClick:resetBounds,className:\"w-full bg-primary-500 hover:bg-primary-600 text-white text-xs font-medium py-2 px-3 rounded-lg transition-colors\",children:\"Reset View\"})})]})]});};export default MapComponent;","map":{"version":3,"names":["React","useEffect","useRef","useState","Loader","Camera","MapPin","Clock","Sparkles","jsx","_jsx","jsxs","_jsxs","MapComponent","_ref","apiKey","selectedRoute","routes","onMapReady","mapRef","mapInstanceRef","markersRef","polylinesRef","hasInitialBounds","setHasInitialBounds","current","initMap","loader","version","libraries","load","map","google","maps","Map","center","lat","lng","zoom","styles","featureType","elementType","stylers","visibility","mapTypeControl","fullscreenControl","streetViewControl","gestureHandling","error","console","Error","message","clearMap","forEach","marker","setMap","polyline","resetBounds","length","bounds","LatLngBounds","route","path","point","extend","LatLng","fitBounds","isSelected","id","color","weight","Polyline","geodesic","strokeColor","strokeOpacity","strokeWeight","push","startMarker","Marker","position","title","icon","url","encodeURIComponent","scaledSize","Size","anchor","Point","endMarker","photoSpots","spot","location","name","infoWindow","InfoWindow","content","rating","distance","addListener","open","index","setOptions","Math","floor","setIcon","className","children","photoScore","style","width","duration","travelMode","charAt","toUpperCase","ref","onClick"],"sources":["/Users/aishwaryamurahari/Documents/study/GoogleHackathon/src/components/MapComponent.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Loader } from '@googlemaps/js-api-loader';\nimport { MapComponentProps } from '../types';\nimport { Camera, Star, MapPin, Clock, Sparkles } from 'lucide-react';\n\ninterface ExtendedMapComponentProps extends MapComponentProps {\n  onMapReady?: (map: google.maps.Map) => void;\n}\n\nconst MapComponent: React.FC<ExtendedMapComponentProps> = ({\n  apiKey,\n  selectedRoute,\n  routes,\n  onMapReady\n}) => {\n  const mapRef = useRef<HTMLDivElement>(null);\n  const mapInstanceRef = useRef<google.maps.Map | null>(null);\n  const markersRef = useRef<google.maps.Marker[]>([]);\n  const polylinesRef = useRef<google.maps.Polyline[]>([]);\n  const [hasInitialBounds, setHasInitialBounds] = useState(false);\n\n  // Initialize Google Maps\n  useEffect(() => {\n    if (!apiKey || !mapRef.current || mapInstanceRef.current) return;\n\n    const initMap = async () => {\n      try {\n        const loader = new Loader({\n          apiKey,\n          version: 'weekly',\n          libraries: ['places']\n        });\n\n        await loader.load();\n\n        if (!mapRef.current) {\n          return;\n        }\n\n        const map = new google.maps.Map(mapRef.current, {\n          center: { lat: 40.7128, lng: -74.0060 }, // Default to NYC\n          zoom: 13,\n          styles: [\n            {\n              featureType: 'poi',\n              elementType: 'labels',\n              stylers: [{ visibility: 'off' }]\n            }\n          ],\n          mapTypeControl: false,\n          fullscreenControl: false,\n          streetViewControl: false,\n          gestureHandling: 'cooperative' // Better touch/gesture handling\n        });\n\n        mapInstanceRef.current = map;\n        onMapReady?.(map);\n      } catch (error) {\n        console.error('MapComponent: Failed to load Google Maps:', error);\n        console.error('MapComponent: Error details:', error instanceof Error ? error.message : 'Unknown error');\n      }\n    };\n\n    initMap();\n\n    // Cleanup function\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current = null;\n      }\n    };\n  }, [apiKey]);\n\n  // Clear existing markers and polylines\n  const clearMap = () => {\n    markersRef.current.forEach(marker => marker.setMap(null));\n    polylinesRef.current.forEach(polyline => polyline.setMap(null));\n    markersRef.current = [];\n    polylinesRef.current = [];\n  };\n\n  // Reset bounds to show all routes\n  const resetBounds = () => {\n    if (!mapInstanceRef.current || routes.length === 0) return;\n\n    const bounds = new google.maps.LatLngBounds();\n    routes.forEach(route => {\n      route.path.forEach(point => {\n        bounds.extend(new google.maps.LatLng(point.lat, point.lng));\n      });\n    });\n\n    mapInstanceRef.current.fitBounds(bounds, 50);\n  };\n\n  // Draw routes on map\n  useEffect(() => {\n    if (!mapInstanceRef.current || routes.length === 0) return;\n\n    clearMap();\n\n    routes.forEach((route) => {\n      if (route.path.length < 2) return;\n\n      const isSelected = selectedRoute?.id === route.id;\n      const color = isSelected ? '#3B82F6' : '#6b7280'; // Blue for selected route\n      const weight = isSelected ? 6 : 2;\n\n      const path = route.path.map(point => new google.maps.LatLng(point.lat, point.lng));\n\n      const polyline = new google.maps.Polyline({\n        path,\n        geodesic: true,\n        strokeColor: color,\n        strokeOpacity: isSelected ? 1.0 : 0.7,\n        strokeWeight: weight,\n        map: mapInstanceRef.current\n      });\n\n      polylinesRef.current.push(polyline);\n\n      // Add start and destination markers for selected route\n      if (isSelected && route.path.length > 0) {\n        // Start marker (green)\n        const startMarker = new google.maps.Marker({\n          position: new google.maps.LatLng(route.path[0].lat, route.path[0].lng),\n          map: mapInstanceRef.current,\n          title: 'Start',\n          icon: {\n            url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`\n              <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"16\" cy=\"16\" r=\"14\" fill=\"#10B981\" stroke=\"white\" stroke-width=\"3\"/>\n                <circle cx=\"16\" cy=\"16\" r=\"6\" fill=\"white\"/>\n              </svg>\n            `),\n            scaledSize: new google.maps.Size(32, 32),\n            anchor: new google.maps.Point(16, 16)\n          }\n        });\n\n        // Destination marker (red)\n        const endMarker = new google.maps.Marker({\n          position: new google.maps.LatLng(route.path[route.path.length - 1].lat, route.path[route.path.length - 1].lng),\n          map: mapInstanceRef.current,\n          title: 'Destination',\n          icon: {\n            url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`\n              <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"16\" cy=\"16\" r=\"14\" fill=\"#EF4444\" stroke=\"white\" stroke-width=\"3\"/>\n                <path d=\"M12 16l3 3 5-5\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            `),\n            scaledSize: new google.maps.Size(32, 32),\n            anchor: new google.maps.Point(16, 16)\n          }\n        });\n\n        markersRef.current.push(startMarker, endMarker);\n      }\n\n      // Add markers for photo spots\n      route.photoSpots.forEach((spot) => {\n        if (!spot.location) return;\n\n        const marker = new google.maps.Marker({\n          position: new google.maps.LatLng(spot.location.lat, spot.location.lng),\n          map: mapInstanceRef.current,\n          title: spot.name,\n          icon: {\n            url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"${isSelected ? '#3B82F6' : '#6b7280'}\" stroke=\"white\" stroke-width=\"2\"/>\n                <path d=\"M8 12l2 2 4-4\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            `),\n            scaledSize: new google.maps.Size(24, 24),\n            anchor: new google.maps.Point(12, 12)\n          }\n        });\n\n        const infoWindow = new google.maps.InfoWindow({\n          content: `\n            <div class=\"p-3\">\n              <h3 class=\"font-semibold text-gray-900\">${spot.name}</h3>\n              <div class=\"flex items-center mt-1\">\n                <span class=\"text-yellow-500\">★</span>\n                <span class=\"text-sm text-gray-600 ml-1\">${spot.rating}</span>\n                <span class=\"text-sm text-gray-500 ml-2\">•</span>\n                <span class=\"text-sm text-gray-500 ml-2\">${spot.distance}</span>\n              </div>\n            </div>\n          `\n        });\n\n        marker.addListener('click', () => {\n          infoWindow.open(mapInstanceRef.current, marker);\n        });\n\n        markersRef.current.push(marker);\n      });\n    });\n\n    // Only fit bounds on initial load, not on every route update\n    if (routes.length > 0 && !hasInitialBounds) {\n      const bounds = new google.maps.LatLngBounds();\n      routes.forEach(route => {\n        route.path.forEach(point => {\n          bounds.extend(new google.maps.LatLng(point.lat, point.lng));\n        });\n      });\n\n      // Add some padding to the bounds\n      mapInstanceRef.current.fitBounds(bounds, 50);\n\n      setHasInitialBounds(true);\n    }\n  }, [routes, hasInitialBounds]); // Removed selectedRoute from dependencies\n\n  // Update route styling when selection changes (without redrawing)\n  useEffect(() => {\n    if (!mapInstanceRef.current || polylinesRef.current.length === 0) return;\n\n    polylinesRef.current.forEach((polyline, index) => {\n      const route = routes[index];\n      if (!route) return;\n\n      const isSelected = selectedRoute?.id === route.id;\n      const color = isSelected ? '#3B82F6' : '#6b7280'; // Blue for selected route\n      const weight = isSelected ? 6 : 2;\n\n      polyline.setOptions({\n        strokeColor: color,\n        strokeOpacity: isSelected ? 1.0 : 0.7,\n        strokeWeight: weight\n      });\n    });\n\n    // Update marker icons for selection\n    markersRef.current.forEach((marker, index) => {\n      const route = routes[Math.floor(index / 2)]; // Approximate route index\n      if (!route) return;\n\n      const isSelected = selectedRoute?.id === route.id;\n      const spot = route.photoSpots[index % route.photoSpots.length];\n      if (!spot) return;\n\n      marker.setIcon({\n        url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"${isSelected ? '#3B82F6' : '#6b7280'}\" stroke=\"white\" stroke-width=\"2\"/>\n            <path d=\"M8 12l2 2 4-4\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>\n        `),\n        scaledSize: new google.maps.Size(24, 24),\n        anchor: new google.maps.Point(12, 12)\n      });\n    });\n  }, [selectedRoute, routes]);\n\n  if (!apiKey) {\n    return (\n      <div className=\"relative w-full h-full bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50\">\n        <div className=\"w-full h-full flex items-center justify-center p-8\">\n          <div className=\"glass-card rounded-3xl p-12 max-w-2xl mx-auto text-center\">\n            <div className=\"relative mb-8\">\n              <div className=\"bg-gradient-to-r from-primary-100 to-primary-200 p-8 rounded-3xl inline-block\">\n                <Camera className=\"h-20 w-20 text-primary-600\" />\n              </div>\n              <div className=\"absolute -top-3 -right-3 bg-yellow-400 rounded-full p-3\">\n                <Sparkles className=\"h-6 w-6 text-yellow-900\" />\n              </div>\n            </div>\n\n            <h3 className=\"text-3xl font-bold text-gray-900 mb-4\">\n              Interactive Map View\n            </h3>\n\n            {selectedRoute ? (\n              <div className=\"space-y-6\">\n                <p className=\"text-gray-600 text-lg leading-relaxed\">\n                  Currently viewing <strong className=\"text-primary-600\">{selectedRoute.name}</strong> with {selectedRoute.photoSpots.length} stunning photo opportunities\n                </p>\n\n                <div className=\"glass-card p-6 rounded-2xl border border-primary-200\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <span className=\"text-lg font-bold text-primary-900\">Photo Score</span>\n                    <div className=\"flex items-center space-x-2\">\n                      <Sparkles className=\"h-5 w-5 text-primary-500\" />\n                      <span className=\"text-3xl font-bold text-primary-600\">\n                        {selectedRoute.photoScore}%\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"w-full bg-primary-200 rounded-full h-3\">\n                    <div\n                      className=\"bg-gradient-to-r from-primary-500 to-primary-600 h-3 rounded-full transition-all duration-500\"\n                      style={{ width: `${selectedRoute.photoScore}%` }}\n                    ></div>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                  <div className=\"bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center\">\n                    <MapPin className=\"h-8 w-8 text-primary-500 mx-auto mb-2\" />\n                    <div className=\"text-2xl font-bold text-gray-900\">{selectedRoute.distance}</div>\n                    <div className=\"text-sm text-gray-600\">Distance</div>\n                  </div>\n                  <div className=\"bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center\">\n                    <Clock className=\"h-8 w-8 text-primary-500 mx-auto mb-2\" />\n                    <div className=\"text-2xl font-bold text-gray-900\">{selectedRoute.duration}</div>\n                    <div className=\"text-sm text-gray-600\">Duration</div>\n                  </div>\n                  <div className=\"bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center\">\n                    <Camera className=\"h-8 w-8 text-primary-500 mx-auto mb-2\" />\n                    <div className=\"text-2xl font-bold text-gray-900\">{selectedRoute.photoSpots.length}</div>\n                    <div className=\"text-sm text-gray-600\">Photo Spots</div>\n                  </div>\n                  {selectedRoute.travelMode && (\n                    <div className=\"bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center\">\n                      <div className=\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                        <span className=\"text-blue-600 font-bold text-sm\">{selectedRoute.travelMode.charAt(0).toUpperCase()}</span>\n                      </div>\n                      <div className=\"text-lg font-bold text-gray-900\">{selectedRoute.travelMode}</div>\n                      <div className=\"text-sm text-gray-600\">Travel Mode</div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ) : (\n              <p className=\"text-gray-600 text-lg leading-relaxed\">\n                Enter your origin and destination to see beautiful photo-worthy routes with interactive mapping\n              </p>\n            )}\n\n            <div className=\"mt-8 glass-card p-6 rounded-2xl border border-yellow-200\">\n              <div className=\"flex items-center space-x-3 mb-3\">\n                <div className=\"w-3 h-3 bg-yellow-500 rounded-full animate-pulse\"></div>\n                <h4 className=\"font-bold text-yellow-900\">Demo Mode</h4>\n              </div>\n              <p className=\"text-sm text-yellow-800 leading-relaxed\">\n                Add your Google Maps API key to see the interactive map with real-time route visualization and photo spot markers.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative w-full h-full\">\n      <div ref={mapRef} className=\"w-full h-full\" />\n\n      {/* Map Controls */}\n      <div className=\"absolute top-6 right-6 glass-card rounded-2xl p-6 shadow-xl\">\n        <div className=\"text-sm font-bold text-gray-700 mb-4\">Photo Score Legend</div>\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-4 h-4 bg-gradient-to-r from-green-400 to-green-500 rounded-full\"></div>\n            <span className=\"text-sm font-medium\">90%+ (Excellent)</span>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-4 h-4 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full\"></div>\n            <span className=\"text-sm font-medium\">70-89% (Good)</span>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-4 h-4 bg-gradient-to-r from-red-400 to-red-500 rounded-full\"></div>\n            <span className=\"text-sm font-medium\">&lt;70% (Fair)</span>\n          </div>\n        </div>\n\n        {routes.length > 0 && (\n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\n            <button\n              onClick={resetBounds}\n              className=\"w-full bg-primary-500 hover:bg-primary-600 text-white text-xs font-medium py-2 px-3 rounded-lg transition-colors\"\n            >\n              Reset View\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MapComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}